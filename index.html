<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>HUY GYM โ Quแบฃn Lรฝ Hแปc Viรชn</title>

<!-- PWA Meta Tags -->
<meta name="application-name"                content="HUY GYM"/>
<meta name="apple-mobile-web-app-capable"    content="yes"/>
<meta name="apple-mobile-web-app-status-bar-style" content="default"/>
<meta name="apple-mobile-web-app-title"      content="HUY GYM"/>
<meta name="mobile-web-app-capable"          content="yes"/>
<meta name="theme-color"                     content="#6c47ff"/>
<meta name="description"                     content="แปจng dแปฅng quแบฃn lรฝ hแปc viรชn phรฒng gym vแปi Firebase sync"/>

<!-- PWA Manifest -->
<link rel="manifest" href="manifest.json"/>

<!-- Apple Touch Icons -->
<link rel="apple-touch-icon"              href="icons/icon-152.png"/>
<link rel="apple-touch-icon" sizes="72x72"   href="icons/icon-72.png"/>
<link rel="apple-touch-icon" sizes="96x96"   href="icons/icon-96.png"/>
<link rel="apple-touch-icon" sizes="128x128" href="icons/icon-128.png"/>
<link rel="apple-touch-icon" sizes="144x144" href="icons/icon-144.png"/>
<link rel="apple-touch-icon" sizes="152x152" href="icons/icon-152.png"/>
<link rel="apple-touch-icon" sizes="192x192" href="icons/icon-192.png"/>

<!-- Favicon -->
<link rel="icon" type="image/png" sizes="192x192" href="icons/icon-192.png"/>
<link rel="icon" type="image/png" sizes="32x32"   href="icons/icon-96.png"/>

<!-- Google Fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com"/>
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
<link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,300;0,9..40,400;0,9..40,500;0,9..40,600;0,9..40,700&family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet"/>

<!-- App Stylesheet -->
<link rel="stylesheet" href="css/style.css"/>
</head>
<body>

<!-- โโ LOADING OVERLAY โโ -->
<div class="loading-overlay" id="loading-overlay">
  <div style="width:56px;height:56px;border-radius:16px;background:linear-gradient(135deg,#6c47ff,#9b6fff);display:flex;align-items:center;justify-content:center;font-size:28px;box-shadow:0 8px 28px rgba(108,71,255,.35)">๐๏ธ</div>
  <div class="spinner"></div>
  <div style="font-family:var(--font-heading);font-size:15px;font-weight:700;color:var(--t0)">HUY GYM</div>
  <div style="font-size:12px;color:var(--t2)" id="loading-msg">ฤang kแบฟt nแปi Firebaseโฆ</div>
</div>

<div class="app">

<!-- โโ SIDEBAR โโ -->
<aside class="sidebar">
  <div class="logo">
    <div class="logo-icon">๐๏ธ</div>
    <div>
      <div class="logo-name">HUY GYM</div>
      <div class="logo-sub">Quแบฃn Lรฝ Hแปc Viรชn</div>
    </div>
  </div>

  <nav class="nav">
    <div class="nav-section-label">Menu</div>
    <div class="nav-item active" id="nav-dashboard" onclick="showPage('dashboard');closeSidebar()">
      <span class="nav-icon">๐</span><span>Bแบฃng ฤiแปu khiแปn</span>
    </div>
    <div class="nav-item" id="nav-thongke" onclick="showPage('thongke');closeSidebar()">
      <span class="nav-icon">๐</span><span>Thแปng kรช / Bรกo cรกo</span>
    </div>
    <div class="nav-item" id="nav-biendog" onclick="showPage('biendog');closeSidebar()">
      <span class="nav-icon">๐</span><span>Biแบฟn ฤแปng hแปc viรชn</span>
    </div>

    <div class="nav-section-label" style="margin-top:4px">Hรnh ฤแปng</div>
    <div class="nav-compose" onclick="openAdd();closeSidebar()">
      <span class="nav-icon">โ๏ธ</span><span>Thรชm hแปc viรชn</span>
    </div>
    <div class="nav-item" onclick="capNhatTatCa()">
      <span class="nav-icon">๐</span><span>Cแบญp nhแบญt tแบฅt cแบฃ</span>
    </div>
    <div class="nav-item" onclick="buNgayLe()">
      <span class="nav-icon">๐</span><span>Bรน ngรy nghแป lแป</span>
    </div>

    <div class="nav-section-label" style="margin-top:4px">Nhแบญt kรฝ</div>
    <div class="nav-item" id="nav-log" onclick="showPage('log');closeSidebar()">
      <span class="nav-icon">๐</span><span>Lแปch sแปญ hoแบกt ฤแปng</span>
    </div>
    <div class="nav-item" id="nav-staff" onclick="showPage('staff');closeSidebar()">
      <span class="nav-icon">๐ฅ</span><span>Hoแบกt ฤแปng nhรขn viรชn</span>
    </div>

    <div class="nav-section-label" style="margin-top:4px">Dแปฏ liแปu</div>
    <div class="nav-item" onclick="exportData()">
      <span class="nav-icon">๐พ</span><span>Xuแบฅt JSON</span>
    </div>
    <div class="nav-item" onclick="importData()">
      <span class="nav-icon">๐</span><span>Nhแบญp JSON</span>
    </div>
  </nav>

  <div class="sidebar-footer">
    <div class="clock" id="clock">00:00:00</div>
    <div class="clock-date" id="clock-date"></div>
    <div class="firebase-status">
      <div class="firebase-dot" id="fb-dot"></div>
      <span id="fb-label">Firebase</span>
    </div>
    <div class="app-version">HUY GYM ยท Firebase ยท PWA</div>
  </div>
</aside>

<!-- โโ MAIN โโ -->
<div class="main">

  <!-- Offline Banner -->
  <div id="offline-bar">โก Bแบกn ฤang offline โ Dแปฏ liแปu tแปซ bแป nhแป cแปฅc bแป</div>

  <!-- PWA Install Banner -->
  <div id="pwa-banner">
    <span>๐ฑ <b>Cรi ฤแบทt HUY GYM</b> lรชn mรn hรฌnh chรญnh ฤแป dรนng nhฦฐ app!</span>
    <button class="pwa-install-btn" id="pwa-install-btn">Cรi ฤแบทt</button>
    <button class="pwa-dismiss-btn" id="pwa-dismiss-btn">โ</button>
  </div>

  <!-- Sidebar Overlay (mobile) -->
  <div class="sidebar-overlay" id="sidebar-overlay" onclick="closeSidebar()"></div>

  <!-- Topbar -->
  <div class="topbar">
    <button class="hamburger" id="hamburger" onclick="toggleSidebar()">
      <span></span><span></span><span></span>
    </button>
    <div class="breadcrumb" id="bc">Bแบฃng ฤiแปu khiแปn <span>/ Danh sรกch hแปc viรชn</span></div>
    <div class="user-badge" id="user-badge" onclick="doLogout()" title="ฤแปi ngฦฐแปi dรนng">
      <div class="user-avatar" id="user-avatar" style="background:var(--purple)">?</div>
      <div>
        <div class="user-name-display" id="user-name-display">Chฦฐa ฤฤng nhแบญp</div>
        <div class="user-role-display" id="user-role-display">โ</div>
      </div>
    </div>
    <div class="search-wrap" id="sw-wrap">
      <span class="search-icon">โ</span>
      <input type="text" id="search" placeholder="Tรฌm tรชn, SฤT, ghi chรบโฆ"/>
    </div>
  </div>

  <!-- โโ PAGE: Dashboard โโ -->
  <div class="page active" id="page-dashboard">
    <!-- Stat Cards -->
    <div class="stats-bar">
      <div class="stat-card" style="--c:var(--purple);--ci:var(--purple-soft)">
        <div class="stat-icon">๐ฅ</div>
        <div><div class="stat-label">Tแปng hแปc viรชn</div><div class="stat-value" id="s-tong">0</div></div>
      </div>
      <div class="stat-card" style="--c:var(--green);--ci:var(--green-soft)">
        <div class="stat-icon" style="background:var(--green-soft)">๐ข</div>
        <div><div class="stat-label">ฤang hoแบกt ฤแปng</div><div class="stat-value" id="s-active">0</div></div>
      </div>
      <div class="stat-card" style="--c:var(--orange);--ci:var(--orange-soft)">
        <div class="stat-icon" style="background:var(--orange-soft)">โ๏ธ</div>
        <div><div class="stat-label">Sแบฏp hแบฟt hแบกn</div><div class="stat-value" id="s-warn">0</div></div>
      </div>
      <div class="stat-card" style="--c:var(--red);--ci:var(--red-soft)">
        <div class="stat-icon" style="background:var(--red-soft)">๐ด</div>
        <div><div class="stat-label">ฤรฃ hแบฟt hแบกn</div><div class="stat-value" id="s-exp">0</div></div>
      </div>
      <div class="stat-card" style="--c:var(--gray);--ci:var(--gray-soft)">
        <div class="stat-icon" style="background:var(--gray-soft)">โธ๏ธ</div>
        <div><div class="stat-label">Tแบกm dแปซng</div><div class="stat-value" id="s-pause">0</div></div>
      </div>
    </div>

    <!-- Table Area -->
    <div class="table-area">
      <div class="filter-bar">
        <div class="filter-bar-title">Danh sรกch hแปc viรชn</div>
        <div class="filter-sep"></div>
        <button class="btn btn-primary"   onclick="openAdd()">โ Thรชm</button>
        <button class="btn btn-secondary" onclick="editSel()">โ๏ธ Sแปญa</button>
        <button class="btn btn-danger"    onclick="delSel()">๐๏ธ Xรณa</button>
        <button class="btn btn-success"   onclick="capNhatTatCa()">๐ Cแบญp nhแบญt</button>
        <button class="btn btn-warning"   onclick="buNgayLe()">๐ Bรน lแป</button>
        <div class="filter-sep"></div>
        <div class="chips-row">
          <span class="chip active" id="chip-all"     onclick="setChip('all')">Tแบฅt cแบฃ</span>
          <span class="chip"        id="chip-active"  onclick="setChip('active')">Hoแบกt ฤแปng</span>
          <span class="chip"        id="chip-warning" onclick="setChip('warning')">Sแบฏp HH</span>
          <span class="chip"        id="chip-expired" onclick="setChip('expired')">Hแบฟt hแบกn</span>
          <span class="chip"        id="chip-paused"  onclick="setChip('paused')">Tแบกm dแปซng</span>
        </div>
        <div class="ml-auto"><span class="row-count-hint" id="row-count">0 hแปc viรชn</span></div>
      </div>

      <div class="table-wrap">
        <table>
          <thead>
            <tr>
              <th style="width:46px" onclick="sortBy('id')">ID<span class="sort-arrow" data-col="id">โ</span></th>
              <th onclick="sortBy('ten')">Hแปc Viรชn<span class="sort-arrow" data-col="ten">โ</span></th>
              <th class="col-register-date" onclick="sortBy('ngay_bd')">Ngรy ฤK<span class="sort-arrow" data-col="ngay_bd">โ</span></th>
              <th class="col-package" onclick="sortBy('so_ngay')" style="text-align:center">Gรณi<span class="sort-arrow" data-col="so_ngay">โ</span></th>
              <th onclick="sortBy('ngay_hh')">Hแบฟt Hแบกn<span class="sort-arrow" data-col="ngay_hh">โ</span></th>
              <th class="col-days-left" onclick="sortBy('con_lai')" style="text-align:center">Cรฒn Lแบกi<span class="sort-arrow" data-col="con_lai">โ</span></th>
              <th onclick="sortBy('tt')">Trแบกng Thรกi<span class="sort-arrow" data-col="tt">โ</span></th>
              <th class="col-note">Ghi Chรบ</th>
              <th style="text-align:center">Thao Tรกc</th>
            </tr>
          </thead>
          <tbody id="tbody"></tbody>
        </table>
      </div>
    </div>
  </div><!-- /page-dashboard -->

  <!-- โโ PAGE: Thแปng kรช โโ -->
  <div class="page" id="page-thongke">
    <div class="scroll-page" id="tkp"></div>
  </div>

  <!-- โโ PAGE: Biแบฟn ฤแปng โโ -->
  <div class="page" id="page-biendog">
    <div class="scroll-page" id="bdp"></div>
  </div>

  <!-- โโ PAGE: Nhแบญt kรฝ โโ -->
  <div class="page" id="page-log">
    <div style="display:flex;flex-direction:column;flex:1;min-height:0;overflow:hidden">
      <div class="log-filters" id="log-filters">
        <!-- Row 1: Action filter -->
        <div style="display:flex;align-items:center;gap:6px;flex-wrap:wrap;width:100%">
          <span style="font-size:11px;font-weight:700;color:var(--t2);letter-spacing:.5px;text-transform:uppercase;min-width:40px">Loแบกi:</span>
          <button class="log-chip active" id="lf-all"    onclick="setLogFilter('all')">Tแบฅt cแบฃ</button>
          <button class="log-chip"        id="lf-add"    onclick="setLogFilter('add')">โ Thรชm</button>
          <button class="log-chip"        id="lf-edit"   onclick="setLogFilter('edit')">โ๏ธ Sแปญa</button>
          <button class="log-chip"        id="lf-delete" onclick="setLogFilter('delete')">๐ Xรณa</button>
          <button class="log-chip"        id="lf-other"  onclick="setLogFilter('other')">โ๏ธ Khรกc</button>
          <div style="margin-left:auto;display:flex;gap:6px;align-items:center">
            <span id="log-count" style="font-size:11px;color:var(--t2)"></span>
            <button class="btn btn-secondary" style="font-size:11px;padding:4px 10px" onclick="clearAllLogs()" id="clear-log-btn">๐ Xรณa log</button>
          </div>
        </div>
        <!-- Row 2: Date filter -->
        <div style="display:flex;align-items:center;gap:6px;flex-wrap:wrap;width:100%;padding-top:6px;border-top:1px solid var(--border)">
          <span style="font-size:11px;font-weight:700;color:var(--t2);letter-spacing:.5px;text-transform:uppercase;min-width:40px">Ngรy:</span>
          <button class="log-chip active" id="ld-all"       onclick="setLogDate('all')">Tแบฅt cแบฃ</button>
          <button class="log-chip"        id="ld-today"     onclick="setLogDate('today')">Hรดm nay</button>
          <button class="log-chip"        id="ld-yesterday" onclick="setLogDate('yesterday')">Hรดm qua</button>
          <button class="log-chip"        id="ld-week"      onclick="setLogDate('week')">Tuแบงn nรy</button>
          <button class="log-chip"        id="ld-month"     onclick="setLogDate('month')">Thรกng nรy</button>
          <button class="log-chip"        id="ld-last"      onclick="setLogDate('last')">Thรกng trฦฐแปc</button>
          <div style="display:flex;align-items:center;gap:5px;margin-left:4px">
            <span style="font-size:10.5px;color:var(--t2);font-weight:500">Tแปซ:</span>
            <input type="date" id="ld-from" onchange="setLogDate('custom')"
              style="font-size:11px;padding:3px 7px;border:1.5px solid var(--border2);border-radius:7px;background:#f8f9fc;color:var(--t0);font-family:var(--font-body);outline:none"/>
            <span style="font-size:10.5px;color:var(--t2);font-weight:500">ฤแบฟn:</span>
            <input type="date" id="ld-to" onchange="setLogDate('custom')"
              style="font-size:11px;padding:3px 7px;border:1.5px solid var(--border2);border-radius:7px;background:#f8f9fc;color:var(--t0);font-family:var(--font-body);outline:none"/>
          </div>
        </div>
      </div>
      <div style="flex:1;overflow-y:auto;min-height:0" id="log-list"></div>
    </div>
  </div><!-- /page-log -->

  <!-- โโ PAGE: Staff Activity โโ -->
  <div class="page" id="page-staff">
    <div style="display:flex;flex-direction:column;flex:1;min-height:0;overflow:hidden">
      <div class="log-filters" id="staff-filters" style="gap:10px;flex-direction:column">
        <div style="display:flex;align-items:center;gap:10px;flex-wrap:wrap;width:100%">
          <span style="font-family:var(--font-heading);font-size:13.5px;font-weight:800;color:var(--t0)">๐ฅ Hoแบกt ฤแปng theo nhรขn viรชn</span>
          <span id="staff-admin-badge" class="role-admin" style="display:none">Admin Only</span>
          <div style="margin-left:auto;display:flex;gap:7px;align-items:center;flex-wrap:wrap">
            <select id="staff-date-sel" onchange="setStaffDate(this.value)"
              style="font-size:11.5px;padding:5px 10px;border:1.5px solid var(--border2);border-radius:8px;background:#f8f9fc;color:var(--t0);font-family:var(--font-body);outline:none;cursor:pointer">
              <option value="all">Tแบฅt cแบฃ thแปi gian</option>
              <option value="today">Hรดm nay</option>
              <option value="yesterday">Hรดm qua</option>
              <option value="week">Tuแบงn nรy</option>
              <option value="month">Thรกng nรy</option>
              <option value="last">Thรกng trฦฐแปc</option>
            </select>
            <select id="staff-action-sel" onchange="renderStaff()"
              style="font-size:11.5px;padding:5px 10px;border:1.5px solid var(--border2);border-radius:8px;background:#f8f9fc;color:var(--t0);font-family:var(--font-body);outline:none;cursor:pointer">
              <option value="all">Tแบฅt cแบฃ hรnh ฤแปng</option>
              <option value="add">โ Thรชm</option>
              <option value="edit">โ๏ธ Sแปญa</option>
              <option value="delete">๐ Xรณa</option>
              <option value="login">๐ ฤฤng nhแบญp</option>
              <option value="other">โ๏ธ Khรกc</option>
            </select>
            <span id="staff-total-badge" style="font-size:11px;color:var(--t2)"></span>
          </div>
        </div>
        <div id="staff-tabs" style="display:flex;gap:6px;flex-wrap:wrap;overflow-x:auto;padding-bottom:2px;scrollbar-width:none"></div>
      </div>
      <div style="flex:1;overflow-y:auto;min-height:0" id="staff-content"></div>
    </div>
  </div><!-- /page-staff -->

  <!-- Status Bar -->
  <div class="statusbar">
    <div class="status-dot"></div>
    <div class="status-message" id="smsg">ฤang kแบฟt nแปiโฆ</div>
    <div id="stime" style="font-size:10.5px;color:var(--t2)"></div>
  </div>

</div><!-- /main -->
</div><!-- /app -->

<!-- โโ MODAL: Thรชm / Sแปญa Hแปc Viรชn โโ -->
<div class="modal-backdrop" id="mf">
  <div class="modal">
    <div class="modal-header">
      <div class="modal-title" id="mft">Thรชm Hแปc Viรชn</div>
      <button class="modal-close" onclick="closeForm()">โ</button>
    </div>
    <div class="modal-body">
      <div class="form-grid">
        <div class="form-group full-width">
          <label class="form-label">Hแป Tรชn *</label>
          <input class="form-input" id="f-ten" placeholder="Nguyแปn Vฤn A"/>
        </div>
        <div class="form-group">
          <label class="form-label">Sแป ฤiแปn Thoแบกi</label>
          <input class="form-input" id="f-sdt" placeholder="0901234567"/>
        </div>
        <div class="form-group">
          <label class="form-label">Ngรy ฤฤng Kรฝ *</label>
          <input class="form-input" id="f-ngay-bd" type="date"/>
        </div>
        <div class="form-group">
          <label class="form-label">Gรณi Tแบญp *</label>
          <select class="form-select" id="f-so-ngay">
            <option value="">-- Chแปn gรณi --</option>
            <option value="1">1 ngรy</option>
            <option value="30">30 ngรy (1 thรกng)</option>
            <option value="60">60 ngรy (2 thรกng)</option>
            <option value="90">90 ngรy (3 thรกng)</option>
            <option value="120">120 ngรy (4 thรกng)</option>
            <option value="150">150 ngรy (5 thรกng)</option>
            <option value="180">180 ngรy (6 thรกng)</option>
            <option value="365">365 ngรy (1 nฤm)</option>
          </select>
        </div>
        <div class="form-group">
          <label class="form-label">Ngรy Bรน</label>
          <input class="form-input" id="f-ngay-bu" type="number" min="0" placeholder="0"/>
        </div>
        <div class="form-group">
          <label class="form-label">Giรก Thu (VNฤ)</label>
          <input class="form-input" id="f-gia" type="number" min="0" placeholder="0" step="10000"/>
        </div>
        <div class="form-group">
          <label class="form-label">Trแบกng Thรกi</label>
          <select class="form-select" id="f-tt">
            <option value="active">๐ข Hoแบกt ฤแปng</option>
            <option value="warning">โ๏ธ Sแบฏp Hแบฟt Hแบกn</option>
            <option value="expired">๐ด Hแบฟt Hแบกn</option>
            <option value="paused">โธ๏ธ Tแบกm Dแปซng</option>
          </select>
        </div>
        <div class="form-group full-width">
          <label class="form-label">Ghi Chรบ</label>
          <input class="form-input" id="f-ghi-chu" placeholder="Ghi chรบ thรชmโฆ"/>
        </div>
        <div class="form-group full-width">
          <div id="f-ngay-dk-info" class="form-info-banner"></div>
        </div>
      </div>
    </div>
    <div class="modal-footer">
      <button class="btn btn-secondary" onclick="closeForm()">Hแปงy bแป</button>
      <button class="btn btn-primary"   onclick="saveForm()">๐พ Lฦฐu</button>
    </div>
  </div>
</div>

<!-- โโ MODAL: Xรกc nhแบญn xรณa โโ -->
<div class="modal-backdrop confirm-modal" id="mc">
  <div class="modal">
    <div class="confirm-body">
      <div style="width:58px;height:58px;border-radius:50%;background:var(--red-soft);border:2px solid rgba(239,68,68,.2);display:inline-flex;align-items:center;justify-content:center;font-size:28px;margin-bottom:12px">๐๏ธ</div>
      <div style="font-family:var(--font-heading);font-size:15px;font-weight:700;color:var(--t0);margin-bottom:6px">Xรกc nhแบญn xรณa</div>
      <div style="color:var(--t1);font-size:13px;line-height:1.6">Bแบกn cรณ chแบฏc chแบฏn muแปn xรณa hแปc viรชn</div>
      <div style="color:var(--t0);font-weight:700;font-size:14px;margin-top:5px" id="cnm"></div>
      <div style="color:var(--t2);font-size:11.5px;margin-top:6px">Hรnh ฤแปng nรy khรดng thแป hoรn tรกc.</div>
    </div>
    <div class="modal-footer confirm-footer">
      <button class="btn btn-secondary" onclick="closeConfirm()">Hแปงy</button>
      <button class="btn btn-danger"    onclick="confirmDelete()">Xรกc nhแบญn xรณa</button>
    </div>
  </div>
</div>

<!-- โโ MODAL: Alert (Sแบฏp HH / Hแบฟt hแบกn) โโ -->
<div class="modal-backdrop alert-modal" id="am" onclick="if(event.target===this)closeAM()">
  <div class="modal" style="width:520px">
    <div class="modal-header" style="position:relative">
      <div id="am-bar" style="position:absolute;top:0;left:0;right:0;height:3px;z-index:2"></div>
      <span id="am-icon" style="font-size:18px"></span>
      <span class="modal-title" id="am-title"></span>
      <span id="am-cnt" class="badge" style="flex-shrink:0"></span>
      <button class="modal-close" onclick="closeAM()">โ</button>
    </div>
    <div id="am-body" style="overflow-y:auto;flex:1;min-height:0"></div>
  </div>
</div>

<!-- Hidden file input for JSON import -->
<input type="file" id="ii" accept=".json" style="display:none" onchange="handleImport(event)"/>

<!-- โโ MODAL: Bรน ngรy nghแป lแป โโ -->
<div class="modal-backdrop confirm-modal" id="mbl" onclick="if(event.target===this)closeBuLe()">
  <div class="modal" style="max-width:380px">
    <div class="modal-header">
      <div class="modal-title">๐ Bรน Ngรy Nghแป Lแป</div>
      <button class="modal-close" onclick="closeBuLe()">โ</button>
    </div>
    <div class="modal-body">
      <div style="color:var(--t1);font-size:13px;line-height:1.7;margin-bottom:16px">
        Cแปng thรชm sแป ngรy bรน cho tแบฅt cแบฃ hแปc viรชn ฤang <b>Hoแบกt ฤแปng</b> vร <b>Sแบฏp Hแบฟt Hแบกn</b>.
      </div>
      <div class="form-group">
        <label class="form-label">Sแป ngรy bรน *</label>
        <input class="form-input" id="bl-days" type="number" min="1" max="30" value="1"
          placeholder="Nhแบญp sแป ngรyโฆ"
          onkeydown="if(event.key==='Enter')confirmBuLe()"/>
      </div>
    </div>
    <div class="modal-footer">
      <button class="btn btn-secondary" onclick="closeBuLe()">Hแปงy</button>
      <button class="btn btn-warning"   onclick="confirmBuLe()">๐ Xรกc nhแบญn bรน</button>
    </div>
  </div>
</div>

<!-- โโ BOTTOM NAV (mobile only) โโ -->
<nav class="bottom-nav" id="bottom-nav">
  <div class="bottom-nav-item active" id="bn-dashboard"
       onclick="showPage('dashboard');clearBottomNavActive();this.classList.add('active')">
    <div class="bnav-icon">๐</div>
    <div>Dashboard</div>
  </div>
  <div class="bottom-nav-compose" onclick="openAdd()">
    <span class="bottom-nav-compose-icon">โ๏ธ</span>
    <span class="bottom-nav-compose-label">Thรชm hแปc viรชn</span>
  </div>
  <div class="bottom-nav-item" id="bn-thongke"
       onclick="showPage('thongke');clearBottomNavActive();this.classList.add('active')">
    <div class="bnav-icon">๐</div>
    <div>Thแปng kรช</div>
  </div>
</nav>

<!-- โโ LOGIN OVERLAY โโ -->
<div class="login-overlay hidden" id="login-overlay">
  <div class="login-box">
    <div class="login-logo">๐๏ธ</div>
    <div class="login-title">HUY GYM</div>
    <div class="login-sub">Nhแบญp tรชn cแปงa bแบกn ฤแป bแบฏt ฤแบงu sแปญ dแปฅng</div>
    <input class="login-name-input" id="login-name"
      placeholder="Vรญ dแปฅ: Huy, Lan, Minhโฆ" maxlength="30"
      onkeydown="if(event.key==='Enter')doLogin()"/>
    <div class="login-role-row">
      <button class="login-role-btn" id="role-btn-admin" onclick="selectRole('admin')">
        <span class="role-icon">๐</span>
        Admin
        <div style="font-size:9px;color:var(--t2);font-weight:400;margin-top:2px">Toรn quyแปn</div>
      </button>
      <button class="login-role-btn selected" id="role-btn-user" onclick="selectRole('user')">
        <span class="role-icon">๐ค</span>
        Nhรขn viรชn
        <div style="font-size:9px;color:var(--t2);font-weight:400;margin-top:2px">Xem + chแปnh sแปญa</div>
      </button>
    </div>
    <div id="admin-pass-row" style="display:none;margin-bottom:14px">
      <input class="login-name-input" id="login-pass" type="password"
        placeholder="Nhแบญp mแบญt khแบฉu Adminโฆ"
        onkeydown="if(event.key==='Enter')doLogin()"
        style="margin-bottom:0"/>
    </div>
    <button class="login-enter-btn" onclick="doLogin()">Vรo hแป thแปng โ</button>
    <div style="font-size:10px;color:var(--t2);margin-top:14px">Tรชn sแบฝ ฤฦฐแปฃc lฦฐu trรชn thiแบฟt bแป nรy</div>
  </div>
</div>

<!-- โโ APP SCRIPT (ES Module) โโ -->
<script type="module" src="js/app.js"></script>

</body>
</html>
